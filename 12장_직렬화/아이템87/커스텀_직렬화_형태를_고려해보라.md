# π¨ μ»¤μ¤ν…€ μ§λ ¬ν™” ν•νƒλ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ” μ΄μ μ™€ μ¬λ°”λ¥Έ κµ¬ν„ λ°©λ²•

Javaμ μ§λ ¬ν™”(serialization)λ” κ°μ²΄μ μƒνƒλ¥Ό νμΌμ— μ €μ¥ν•κ±°λ‚ λ„¤νΈμ›ν¬λ΅ μ „μ†΅ν•  λ• λ„λ¦¬ μ‚¬μ©λλ” μ¤‘μ”ν• λ©”μ»¤λ‹μ¦μ…λ‹λ‹¤.
κ·Έλ¬λ‚ κΈ°λ³Έ μ§λ ¬ν™” ν•νƒλ¥Ό λ¬΄μ΅°κ±΄μ μΌλ΅ μ μ©ν•λ©΄ μ μ§€ λ³΄μμ„±, μ„±λ¥, λ³΄μ•μ— μ‹¬κ°ν• λ¬Έμ λ¥Ό μΌμΌν‚¬ μ μμµλ‹λ‹¤.

---

## π”¥ κΈ°λ³Έ μ§λ ¬ν™” ν•νƒμ ν•κ³„μ™€ λ¬Έμ μ 

κΈ°λ³Έ μ§λ ¬ν™” ν•νƒλ” κ°μ²΄μ λ¬Όλ¦¬μ  ν‘ν„(ν΄λμ¤μ ν•„λ“ κµ¬μ΅°)μ΄ λ…Όλ¦¬μ  ν‘ν„(κ°μ²΄κ°€ μ‹¤μ λ΅ λ‚νƒ€λ‚΄λ” μλ―Έ)κ³Ό μ •ν™•ν μΌμΉν•λ” κ²½μ°μ—λ§ μ ν•©ν•©λ‹λ‹¤.

### β… κΈ°λ³Έ μ§λ ¬ν™”κ°€ μ ν•©ν• μ

λ‹¤μκ³Ό κ°™μ€ κ²½μ° κΈ°λ³Έ μ§λ ¬ν™”λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ ν•©λ¦¬μ μ…λ‹λ‹¤:

```java
public class Name implements Serializable {
    private final String firstName;
    private final String middleName;
    private final String lastName;
}
```
μ΄ ν΄λμ¤λ” λ‚΄λ¶€ κµ¬μ΅°κ°€ κ³§ μ™Έλ¶€μ—μ„ λ‚νƒ€λ‚λ” μλ―Έ(μ„±λ…)μ™€ μ •ν™•ν μΌμΉν•μ—¬ κΈ°λ³Έ μ§λ ¬ν™”λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μ μ ν•©λ‹λ‹¤.

### π« κΈ°λ³Έ μ§λ ¬ν™” ν•νƒκ°€ λ¶€μ ν•©ν• μμ‹

```java
public final class StringList implements Serializable {
    private int size = 0;
    private Entry head = null;

    private static class Entry implements Serializable {
        String data;
        Entry next;
        Entry previous;
    }
}
```

μ„ ν΄λμ¤λ” λ…Όλ¦¬μ μΌλ΅λ” κ°„λ‹¨ν• λ¬Έμμ—΄ λ¦¬μ¤νΈμ΄μ§€λ§, λ¬Όλ¦¬μ μΌλ΅λ” μ–‘λ°©ν–¥ μ—°κ²° λ¦¬μ¤νΈλ΅ κµ¬ν„λμ–΄ μμµλ‹λ‹¤. μ΄μ²λΌ λ¬Όλ¦¬μ  κµ¬ν„κ³Ό λ…Όλ¦¬μ  ν‘ν„μ΄ λ‹¤λ¥΄λ©΄ λ‹¤μκ³Ό κ°™μ€ λ¬Έμ κ°€ λ°μƒν•©λ‹λ‹¤.

- **λ‚΄λ¶€ κµ¬ν„μ— μΆ…μ†**: ν΄λμ¤κ°€ μ§λ ¬ν™” ν•νƒλ΅ λ‚΄λ¶€ κµ¬ν„ λ°©μ‹μ„ μκµ¬μ μΌλ΅ μ μ§€ν•΄μ•Ό ν•λ―€λ΅ ν–¥ν›„ λ‚΄λ¶€ κµ¬ν„ λ³€κ²½μ΄ μ–΄λ µμµλ‹λ‹¤.
- **κ³Όλ„ν• λ°μ΄ν„° μ €μ¥**: μ–‘λ°©ν–¥ μ—°κ²° λ…Έλ“κΉμ§€ λ¨λ‘ μ§λ ¬ν™”λμ–΄ λ°μ΄ν„° μ©λ‰μ΄ μ¦κ°€ν•κ³  λ„¤νΈμ›ν¬ μ „μ†΅ μ„±λ¥μ„ λ–¨μ–΄λ¨λ¦½λ‹λ‹¤.
- **μ„±λ¥ μ €ν•**: λ³µμ΅ν• κ°μ²΄ κ·Έλν”„λ¥Ό μ¬κ·€μ μΌλ΅ μ²λ¦¬ν•λ―€λ΅, μ§λ ¬ν™”/μ—­μ§λ ¬ν™” μ‹κ°„μ΄ μ¦κ°€ν•©λ‹λ‹¤.
- **μ¤νƒ μ¤λ²„ν”λ΅ μ„ν—**: κ°μ²΄ κ·Έλν”„μ κΉμ΄κ°€ κΉμ–΄μ§€λ©΄ μ¬κ·€ νΈμ¶λ΅ μΈν•΄ μ¤νƒ μ¤λ²„ν”λ΅κ°€ λ°μƒν•  κ°€λ¥μ„±μ΄ μμµλ‹λ‹¤.

---

## β… μ»¤μ¤ν…€ μ§λ ¬ν™” ν•νƒλ΅ λ¬Έμ  ν•΄κ²°ν•κΈ°

κΈ°λ³Έ μ§λ ¬ν™”μ ν•κ³„λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ»¤μ¤ν…€ μ§λ ¬ν™”λ¥Ό μ‚¬μ©ν•μ—¬ λ…Όλ¦¬μ  ν‘ν„λ§ μ§λ ¬ν™”ν•λ” λ°©λ²•μ„ μ¶”μ²ν•©λ‹λ‹¤.

### β”οΈ μ»¤μ¤ν…€ μ§λ ¬ν™” μμ 
```java
public final class StringList implements Serializable {
    private transient int size = 0;      // μ§λ ¬ν™” μ μ™Έ
    private transient Entry head = null; // μ§λ ¬ν™” μ μ™Έ

    private static class Entry {
        String data;
        Entry next;
        Entry previous;
    }

    public final void add(String s) { /* κµ¬ν„ μƒλµ */ }

    private void writeObject(ObjectOutputStream s) throws IOException {
        s.defaultWriteObject(); // κΈ°λ³Έ μ§λ ¬ν™” ν•νƒ μ μ§€
        s.writeInt(size); // μ¶”κ°€ μ •λ³΄ κΈ°λ΅

        // λ…Όλ¦¬μ  λ°μ΄ν„°λ§ μμ°¨μ μΌλ΅ μ§λ ¬ν™”
        for (Entry e = head; e != null; e = e.next) {
            s.writeObject(e.data);
        }
    }

    private void readObject(ObjectInputStream s) throws IOException, ClassNotFoundException {
        s.defaultReadObject();
        int numElements = s.readInt();

        for (int i = 0; i < numElements; i++) {
            add((String) s.readObject()); // λ¦¬μ¤νΈ μ¬κµ¬μ„±
        }
    }

    public void add(String s) { /* λ¦¬μ¤νΈ μ¶”κ°€ λ΅μ§ κµ¬ν„ */ }
}
```

### π“ μ£Όμν•΄μ•Ό ν•  μ§λ ¬ν™” ν•„μ μ‚¬ν•­

- μ»¤μ¤ν…€ μ§λ ¬ν™” λ©”μ„λ“λ” λ°λ“μ‹ `private` μ ‘κ·Ό μ ν•μλ΅ μ„ μ–Έν•΄μ•Ό ν•λ©°, μ„λΈ ν΄λμ¤μ—μ„ μ¤λ²„λΌμ΄λ“ν•  μ μ—†λ„λ΅ ν•©λ‹λ‹¤.
- λ¨λ“  ν•„λ“λ¥Ό `transient`λ΅ μ„ μ–Έν•λ©΄ μ§λ ¬ν™” λ€μƒμ—μ„ μ μ™Έλ©λ‹λ‹¤.
- ν•­μƒ νΈν™μ„±μ„ μ μ§€ν•λ ¤λ©΄ `defaultWriteObject()`μ™€ `defaultReadObject()`λ¥Ό νΈμ¶ν•΄μ•Ό ν•©λ‹λ‹¤.

#### π”’ μ¤λ λ“ μ•μ „ν• ν΄λμ¤μ μ§λ ¬ν™”

μ¤λ λ“ μ•μ „μ„±μ„ λ³΄μ¥ν•λ” ν΄λμ¤λ” μ§λ ¬ν™” λ©”μ„λ“μ—μ„λ„ λ™κΈ°ν™”κ°€ ν•„μμ…λ‹λ‹¤.
```java
private synchronized void writeObject(ObjectOutputStream stream) throws IOException {
    stream.defaultWriteObject();
}
```

---

## π”‘ μ§λ ¬ λ²„μ „ UID (`serialVersionUID`)μ μ¤‘μ”μ„±

μ§λ ¬ν™”λ ν΄λμ¤λ” λ°λ“μ‹ `serialVersionUID`λ¥Ό λ…μ‹μ μΌλ΅ μ„ μ–Έν•μ—¬ λ²„μ „ κ΄€λ¦¬ λ° νΈν™μ„±μ„ μ μ§€ν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.

```java
private static final long serialVersionUID = 1L;
```

- μ§λ ¬ λ²„μ „ UIDλ¥Ό λ…μ‹ν•μ§€ μ•μΌλ©΄ λ°νƒ€μ„μ— UIDλ¥Ό μλ™ μƒμ„±ν•λ―€λ΅ μ•½κ°„μ μ„±λ¥ μ €ν•κ°€ λ°μƒν•  μ μμµλ‹λ‹¤.
- κΈ°μ΅΄ μ§λ ¬ν™”λ μΈμ¤ν„΄μ¤μ™€μ νΈν™μ„±μ„ μ μ§€ν•λ ¤λ©΄ UID κ°’μ„ λ°”κΎΈμ§€ λ§κ³ , νΈν™μ„±μ„ λμΌλ ¤λ©΄ κ°’μ„ λ³€κ²½ν•λ©΄ λ©λ‹λ‹¤.

---

## π― κ²°λ΅ 

- κΈ°λ³Έ μ§λ ¬ν™” ν•νƒλ” κ°μ²΄μ λ…Όλ¦¬μ , λ¬Όλ¦¬μ  ν‘ν„μ΄ μ •ν™•ν κ°™μ„ λ•λ§ μ‚¬μ©ν•©λ‹λ‹¤.
- λ€λ¶€λ¶„μ κ²½μ° μ»¤μ¤ν…€ μ§λ ¬ν™” ν•νƒλ¥Ό ν†µν•΄ μ„±λ¥κ³Ό ν™•μ¥μ„±μ„ ν™•λ³΄ν•  μ μμµλ‹λ‹¤.
- λ°λ“μ‹ μ§λ ¬ λ²„μ „ UIDλ¥Ό λ…μ‹μ μΌλ΅ μ„ μ–Έν•΄ νΈν™μ„± κ΄€λ¦¬μ— λ€λΉ„ν•μ—¬μ•Όν•©λ‹λ‹¤.



